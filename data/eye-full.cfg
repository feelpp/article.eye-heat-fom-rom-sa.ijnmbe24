##############################################################################
#   Config file for running the case eye in 3D,
#   with non linear boundary conditions
#
directory=toolboxes/heat/eyeheat3d/non-linear/
case.dimension=3
case.discretization=P2

[heat]
mesh.scale=1e-3
json.filename=$cfgdir/eye.json
json.filename=$cfgdir/mesh3d.json
json.filename=$cfgdir/boundary-conditions-non-linear.json
json.filename=$cfgdir/post-process.json

solver=Newton #Oseen,Picard,Newton
ksp-rtol=1e-10
ksp-monitor=1
pc-type=gamg
snes-monitor=1
snes-ksp-rtol=1e-10


[toolboxmor]
filename=$cfgdir/crb_param.json
trainset-deim-size=40
trainset-mdeim-size=40
name=eye

[crb]
results-repo-name=eye
rebuild-database=true
output-index=1
error-type=2
use-random-WNmu=50
error-max=1e-6
dimension-max=25
all-procs-have-same-sampling=false
# use-random-WNmu=25
sampling-size=1000
sampling-mode=equidistribute#equidistribute #equidistribute, log-equidistribute or log-random
orthonormalize-primal=true
orthonormality-tol=1e-12#1e-8
orthonormalize-dual=true
# absolute-error=true
# solve-fem-monolithic=true
solve-dual-problem=false
# use-primal-pc=false
# use-fast-eim=false
compute-fem-during-online=true
load-elements-database=true
print-iterations-info=true

[vec.deim]
greedy.rtol=1e-14
dimension-max=100

[mat.deim]
greedy.rtol=1e-12


# [ts]
# time-step=0.1
# time-final=5
